{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Edu\\\\CourseProject\\\\Project\\\\course-project\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { Subject } from \"rxjs\";\nimport data from '../../data/chart.json';\nimport * as i0 from \"@angular/core\";\nexport class ChartService {\n  constructor() {\n    this.progressSubject = new Subject();\n    this.currentProgress = this.progressSubject.asObservable();\n    this.dataSubject = new Subject();\n    this.chartData = this.dataSubject.asObservable();\n    this.startingProgress = 50;\n  }\n\n  loadData() {\n    this.dataSubject.next(data);\n  }\n\n  startLoading() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      for (let currentProgress = _this.startingProgress; currentProgress < 100;) {\n        currentProgress = yield _this.increaseProgress(currentProgress);\n\n        _this.progressSubject.next(currentProgress);\n      }\n\n      yield _this.loadData();\n    })();\n  }\n\n  increaseProgress(currentProgress) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(currentProgress + 1);\n      }, 50);\n    });\n  }\n\n}\n\nChartService.ɵfac = function ChartService_Factory(t) {\n  return new (t || ChartService)();\n};\n\nChartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ChartService,\n  factory: ChartService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["Subject","data","i0","ChartService","constructor","progressSubject","currentProgress","asObservable","dataSubject","chartData","startingProgress","loadData","next","startLoading","increaseProgress","Promise","resolve","reject","setTimeout","ɵfac","ChartService_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"sources":["C:/Edu/CourseProject/Project/course-project/src/app/services/chart.service.ts"],"sourcesContent":["import { Subject } from \"rxjs\";\r\nimport data from '../../data/chart.json';\r\nimport * as i0 from \"@angular/core\";\r\nexport class ChartService {\r\n    constructor() {\r\n        this.progressSubject = new Subject();\r\n        this.currentProgress = this.progressSubject.asObservable();\r\n        this.dataSubject = new Subject();\r\n        this.chartData = this.dataSubject.asObservable();\r\n        this.startingProgress = 50;\r\n    }\r\n    loadData() {\r\n        this.dataSubject.next(data);\r\n    }\r\n    async startLoading() {\r\n        for (let currentProgress = this.startingProgress; currentProgress < 100;) {\r\n            currentProgress = await this.increaseProgress(currentProgress);\r\n            this.progressSubject.next(currentProgress);\r\n        }\r\n        await this.loadData();\r\n    }\r\n    increaseProgress(currentProgress) {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(currentProgress + 1);\r\n            }, 50);\r\n        });\r\n    }\r\n}\r\nChartService.ɵfac = function ChartService_Factory(t) { return new (t || ChartService)(); };\r\nChartService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: ChartService, factory: ChartService.ɵfac, providedIn: 'root' });\r\n"],"mappings":";AAAA,SAASA,OAAT,QAAwB,MAAxB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,MAAMC,YAAN,CAAmB;EACtBC,WAAW,GAAG;IACV,KAAKC,eAAL,GAAuB,IAAIL,OAAJ,EAAvB;IACA,KAAKM,eAAL,GAAuB,KAAKD,eAAL,CAAqBE,YAArB,EAAvB;IACA,KAAKC,WAAL,GAAmB,IAAIR,OAAJ,EAAnB;IACA,KAAKS,SAAL,GAAiB,KAAKD,WAAL,CAAiBD,YAAjB,EAAjB;IACA,KAAKG,gBAAL,GAAwB,EAAxB;EACH;;EACDC,QAAQ,GAAG;IACP,KAAKH,WAAL,CAAiBI,IAAjB,CAAsBX,IAAtB;EACH;;EACKY,YAAY,GAAG;IAAA;;IAAA;MACjB,KAAK,IAAIP,eAAe,GAAG,KAAI,CAACI,gBAAhC,EAAkDJ,eAAe,GAAG,GAApE,GAA0E;QACtEA,eAAe,SAAS,KAAI,CAACQ,gBAAL,CAAsBR,eAAtB,CAAxB;;QACA,KAAI,CAACD,eAAL,CAAqBO,IAArB,CAA0BN,eAA1B;MACH;;MACD,MAAM,KAAI,CAACK,QAAL,EAAN;IALiB;EAMpB;;EACDG,gBAAgB,CAACR,eAAD,EAAkB;IAC9B,OAAO,IAAIS,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;MACpCC,UAAU,CAAC,MAAM;QACbF,OAAO,CAACV,eAAe,GAAG,CAAnB,CAAP;MACH,CAFS,EAEP,EAFO,CAAV;IAGH,CAJM,CAAP;EAKH;;AAxBqB;;AA0B1BH,YAAY,CAACgB,IAAb,GAAoB,SAASC,oBAAT,CAA8BC,CAA9B,EAAiC;EAAE,OAAO,KAAKA,CAAC,IAAIlB,YAAV,GAAP;AAAmC,CAA1F;;AACAA,YAAY,CAACmB,KAAb,GAAqB,aAAcpB,EAAE,CAACqB,kBAAH,CAAsB;EAAEC,KAAK,EAAErB,YAAT;EAAuBsB,OAAO,EAAEtB,YAAY,CAACgB,IAA7C;EAAmDO,UAAU,EAAE;AAA/D,CAAtB,CAAnC"},"metadata":{},"sourceType":"module"}